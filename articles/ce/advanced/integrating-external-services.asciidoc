---
title: Integrating external services
order: 8
layout: page
---

[[ce.external]]
= Integrating external services with Collaboration Engine

The most common way to use Collaboration Engine is through a component, which internally uses a ComponentConnectionContext.
In this mode, the connection context is based on the attach state of a set of component instances.
The context is considered active whenever at least one tracked component is attached.

When integrating an external system or parts of the application for which there is no directly associated UI, the [classname]#SystemConnectionContext# can be used.
This connection context is always active and can be obtained from a CollaborationEngine instance by calling getSystemContext.

[source,java]
----
include::{root}/src/main/java/com/vaadin/demo/ce/MyServlet.java[tags=job,indent=0]
----

== Obtaining a Collaboration Engine instance in a servlet

When a [classname]#VaadinService# instance is not available, it's not possible to obtain a [classname]#CollaborationEngine# instance through the [methodname]#getInstance# method. In a servlet, the instance can be obtained through the [methodname]#getAttribute# method, as long as it has been initialized.

[source,java]
----
include::{root}/src/main/java/com/vaadin/demo/ce/MyServlet.java[tags=get-ce,indent=0]
----