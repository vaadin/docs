---
title: Build a Project
page-title: How to make a production build of a Vaadin application
description: Make a production build of your Vaadin application.
meta-description: Learn to make a production build of your Vaadin application. Use the Vaadin Maven plugin to optimize frontend resources, minimize dependencies, and package your app for deployment.
order: 40
---


= Build a Project

Up to this point, the walking skeleton has been <<run#,running in development mode>>. Once you've added meaningful features, you can deploy your application to production. To do that, you have to make a production build. The build gathers necessary frontend resources and dependencies. It then transpiles, minimizes and bundles them to make the application load faster.


== Make a Production Build

In the walking skeleton, you use the Vaadin Maven plugin to make a production build. You do this by activating the `production` profile, like this:

[.example]
--
.Terminal
[source,terminal,subs="+attributes"]
----
<source-info group="macOS / Linux"></source-info>
./mvnw clean package -Pproduction
----

.PowerShell
[source,terminal,subs="+attributes"]
----
<source-info group="Windows"></source-info>
mvnw clean package -Pproduction
----
--

Once the build has finished, check the `target` directory. If your skeleton was named `my-application`, you should find a file called `my-application-1.0-SNAPSHOT.jar`.

The `production` profile not only builds the frontend, but also excludes the development server bundle since it contains features that aren't used in production. 


== Build a Docker Image

The walking skeleton includes a `Dockerfile` that allows you to package your application as a Docker image.

.Install Docker
[IMPORTANT]
You must install Docker on your system before you can build an image.

Run the following command from your project root to build the image:

[source,terminal]
----
docker build -t my-application:latest .
----

This command builds your application in production mode and produces a Docker image tagged `my-application:latest`.


=== Building with Commercial Components

If your application uses commercial components, you need a <<flow/configuration/licenses#,licence key>>.

When building locally with Maven, the Vaadin Maven plugin detects the license automatically. For Docker builds, you must pass the key explicitly:

[source,terminal]
----
docker build -t my-application:latest --build-arg VAADIN_PRO_KEY="<your-key>"
----

.A Peek Under the Hood
[NOTE]
====
The `--build-arg` option works because the provided `Dockerfile` in the walking skeleton already defines and forwards the `VAADIN_PRPO_KEY` argument:

[source,docker]
----
ARG VAADIN_PRO_KEY
ENV VAADIN_PRO_KEY=${VAADIN_PRO_KEY}
----

The `ARG` instruction declares a build-time argument, while the `ENV` instruction makes it available as an environment variable inside the container during the build.
====

==== Create a Script

Manually copying the key each time can be inconvenient. You can automate this by creating a shell or PowerShell script that retrieves the key from `$HOME/.vaadin/proKey`:

[.example]
--
.build.sh
[source,bash,subs="+attributes"]
----
<source-info group="macOS / Linux"></source-info>
#!/usr/bin/env bash
VAADIN_PRO_KEY=""
PRO_KEY_FILE="$HOME/.vaadin/proKey"
DOCKER_TAG=""

if [ $# -gt 0 ]; then
  DOCKER_TAG="$1"
else
  echo "Usage: ./build.sh <tag-name>"
  exit 1
fi

if [ -f "$PRO_KEY_FILE" ]; then
    if VAADIN_PRO_KEY=$(jq -r '.proKey // empty' "$PRO_KEY_FILE" 2>/dev/null) && [ -n "$VAADIN_PRO_KEY" ]; then
        echo "Found Vaadin Pro key"
    else
        echo "Could not parse Vaadin Pro key from $PRO_KEY_FILE" >&2
    fi
else
    echo "No Vaadin Pro key found at $PRO_KEY_FILE (continuing without it)"
fi

docker build -t "$DOCKER_TAG" ${VAADIN_PRO_KEY:+--build-arg VAADIN_PRO_KEY="$VAADIN_PRO_KEY"} .
----

.build.ps1
[source,powershell,subs="+attributes"]
----
<source-info group="Windows"></source-info>
param([Parameter(Mandatory)][string]$DockerTag)

$ErrorActionPreference = "Stop"
$ProKeyPath = Join-Path $env:USERPROFILE ".vaadin" "proKey"
$VaadinProKey = ""

if (Test-Path $ProKeyPath) {
    $JsonObject = Get-Content $ProKeyPath -Raw | ConvertFrom-Json
    $VaadinProKey = $JsonObject.proKey
    if ($VaadinProKey) {
        Write-Host "Found Vaadin Pro key"
    } else {
        Write-Host "Could not parse Vaadin Pro key from $ProKeyPath"
    }
} else {
    Write-Host "No Vaadin Pro key found at $ProKeyPath (continuing without it)"
}

docker build -t "$DockerTag" @(if ($VaadinProKey) { "--build-arg", "VAADIN_PRO_KEY=$VaadinProKey" }) .
----
--

Run the script with the desired Docker tag:

[.example]
--
.Bash
[source,bash,subs="+attributes"]
----
<source-info group="macOS / Linux"></source-info>
./build.sh my-application:latest
----

.PowerShell
[source,powershell,subs="+attributes"]
----
<source-info group="Windows"></source-info>
./build.ps1 my-application:latest
----
--

