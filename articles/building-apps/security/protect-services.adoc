---
title: Protect Services
page-title: How to protect the services of a Vaadin application
description: TODO Write a description
meta-description: TODO Write a meta-description
order: 4
---


= Protect the Services

TODO

https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html[Spring Security Reference Manual].


== Enable Method Security

To enable method security, add [annotationname]`@EnableMethodSecurity` to your security configuration class:

.SecurityConfig.java
[source,java]
----
@EnableWebSecurity
// tag::snippet[]
@EnableMethodSecurity
// end::snippet[]
@Configuration
class SecurityConfig extends VaadinWebSecurity {

    @Override
    protected void configure(HttpSecurity http) throws Exception {
        super.configure(http);
        setLoginView(http, LoginView.class);
    }
    ...
}
----


== Secure the Services

[source,java]
----
@Service
@PreAuthorize("isAuthenticated()") // <1>
public class MyService {

    public MyData readData() { // <2>
        // ...
    }

    @PreAuthorize("hasRole('" + Roles.ADMIN + "')") // <3>
    public void writeData(MyData data) {
        // ...
    }
}
----
<1> Allows all authenticated users to call the service by default.
<2>
<3>

// TODO Deep-dive: permission based access with role hierarchies

== Try It

