---
title: Buffered Data
page-title: How to add a buffered grid to a Vaadin application 
description: Learn how to populate a grid with data from an application service.
meta-description: Learn how to populate a grid with data from an application service.
order: 20
---

= Add a Buffered Grid

Buffered data refers to data that is *loaded from an application service where the entire filtered result set is fetched at once*. This approach works well when you can guarantee that filtered result sets remain small enough to fit in memory (for example, orders for a single customer, or tasks assigned to a user).

As with <<static-data#,static data>>, *buffered data is loaded into the grid at once and sorted in memory*. However, *the filtering happens in the application service*.

This guide starts with a complete example that you can copy-paste into your project if you want. It then breaks down the example into sections that explain how to populate, filter, and sort the grid. The guides does not cover setting up the Grid component itself; for that, see the <</components/grid#,Grid>> component documentation.


== Copy-Paste into Your Project

If you want to quickly try out a buffered grid in your Vaadin application, copy-paste the following code into your project:

[source,java]
----
include::{root}/src/main/java/com/vaadin/demo/buildingapps/grid/BufferedGridView.java[tags=full,indent=0]
----

For more detailed walk-through of the example code, continue reading below.


== Getting the Data

In this example, the data is coming from a simple service class that _simulates_ fetching data from a database:

[source,java]
----
include::{root}/src/main/java/com/vaadin/demo/buildingapps/grid/BufferedGridView.java[tags=data,indent=0]
----

In a real world application, the service would be in its own file. The data would be loaded from a database
and the result size limited to avoid flooding the UI with too many items. For the same reason an empty filter string returns no items in this example.

.Can you call a repository or Data Access Object (DAO) directly from the UI?
[NOTE]
Yes, if you're not using <<../../security/protect-services#,method security>> or any other service layer logic.


== Populating and Filtering the Grid

Since the filtering happens in the service, you need to call the service whenever the filter string changes, and then call `setItems()` on the grid's `ListDataView` with the returned items:

[source,java]
----
include::{root}/src/main/java/com/vaadin/demo/buildingapps/grid/BufferedGridView.java[tags=filtering,indent=0]
----

The reason you're calling `ListDataView.setItems()` and not `Grid.setItems()` is that `Grid.setItems()` always creates a new data provider. This in turns clears the selection of the grid. If you want to preserve the selection, you need to update the existing data provider and that is what `ListDataView.setItems()` does.


== Sorting

Sorting happens in the grid automatically, for every column that is *marked as sortable*:

[source,java]
----
include::{root}/src/main/java/com/vaadin/demo/buildingapps/grid/BufferedGridView.java[tags=sorting,indent=0]
----

For more information about sorting, see the <</components/grid#sorting,Grid>> component documentation.
