---
title: Identity Management
description: Manage users, groups, and roles in your deployed applications.
order: 30
---


= Identity Management

Control Center provides powerful tools to manage users, groups, roles and identity providers for Vaadin applications deployed in a Kubernetes cluster. These features are essential for controlling access to various parts of an application and ensuring secure authentication and authorization for users.

With Control Center, you can do several things that allow you to centralize user management, enforce security policies, and control access across different parts of your Vaadin application:

- *Manage Users*: Create and manage users, enable or disable them, request password changes, or enable Multi-Factor Authentication (MFA).
- *Create & Assign Groups*: Organize users into groups, assign specific roles to the groups, and streamline permissions management.
- *Manage Roles*: Define roles that can be used to control access to specific views or functionality in your application.
- *Manage Identity Providers*: Create identity providers, like social providers, to manage the authentication of the users.

Before starting, make sure you've already deployed an application as described in <<../application-deployment#,Application Deployment>>.



== Creating a New User

To create a new user, first select the relevant application from the [guilabel]*Application Selector*, as shown in the screenshot here. It'll display the application's dashboard.

[.device]
image::../application-deployment/images/app-selector.png[App Selector]

The dashboard provides an overview of the current user base for the selected application.

[.device]
image::images/app-dashboard.png[App Dashboard]

Navigate to the [guilabel]*Identity Management* section and select [guilabel]*Users*. Then, click the [guibutton]*Create* button to open the user creation form.

[.device]
image::images/user-create.png[User Create Form]

Once you're in the user creation form, fill in the required fields:

- *First Name* & **Last Name**: The user's display name.
- *Email Address*: This is used for the user's login.
- *Password*: Set an initial password for the user. You can also enable the [guilabel]*Request password change* option to force the user to change their password at the next login.
- *Multi-Factor Authentication*: Enable MFA to require the user to verify their identity with an additional factor, such as an authenticator app.

Once all of the information has been entered, click [guibutton]*Create* to finalize the process. The new user should appear in the list of users for the application.


== Creating a New Role

Next, you may want to define specific roles to make controlling access easier within your application. Roles can be used to limit access for a set of users to certain views or features.

In the [guilabel]*Identity Management* section, navigate to [guilabel]*Roles* and click the [guibutton]*Create* button to open the role creation form.

[.device]
image::images/role-create.png[Role Create Form]

Fill in the fields in the role creation form:

- *Name*: The name of the role (e.g., `ADMIN`).
- *Description*: A brief description of what this role entails (e.g., "Role for administrators").

Click [guibutton]*Create* to save the new role. This role can now be assigned to users or to groups to control access.


== Creating a Group & Assigning a Role

To efficiently manage permissions, you can organize users into groups and assign roles to these groups. This saves you the time of having to assign the same privileges to each person. For instance, you might have all sales people in the group called, _sales_ and all managers in another group called, _managers_. And if you have a few users who are sales managers, you can assign them to both groups.

To create a group, in the [guilabel]*Identity Management* section, navigate to [guilabel]*Groups* and click the [guibutton]*Create* button.

[.device]
image::images/group-create.png[Group Create Form]

Fill in the fields to create a new group:

- *Name*: Enter the name of the group (e.g., `Administrators`).
- *Roles*: Select the roles that this group should have (e.g., `ADMIN`).
- *Members*: Add users to this group by selecting them from the list.

Once the group is created, the assigned users inherit the permissions associated with the roles assigned to the group.


== Creating Identity Providers

An identity provider represents an external service, which can be used to authenticate access to Control Center or a deployed application. This can be a social provider or a custom provider. The supported social providers are: *GitHub*, *Google*, *LinkedIn*, *Microsoft*, *X* (formerly *Twitter*). A custom provider can be any that implement the *OpenID Connect 1.0* protocol (e.g. *Okta*).

When creating an identity provider, you need to choose the type of the provider you want to create from the list. After, in the case of social providers, you need to specify the `Alias`, `Display Name`, `Client ID`, and `Client Secret`. If you already have a client in your external identity provider, you only need to use its ID and secret. If not, then you can follow the link under the provider list, which takes you to the provider's page, where you can create a new client. When everything is filled out, you can copy the `Login Redirect URI` and/or the `Logout Redirect URI` and use it in your external provider's client to let it know where to redirect the user after a successful authentication or logout. At the end, click on the [guibutton]*Create* button. As an example, creating a *Google* identity provider looks like this:

[.device]
image::images/provider-create.png[Identity Provider Create Form]

After creating an identity provider, you can find it in the *Identity Providers* list. You can select one to check its details, update some of the fields, or delete it:

[.device]
image::images/provider-detail.png[Identity Provider Detail Form]

When you want to create a custom *OpenID Connect 1.0* provider, you also need to specify the `Discovery Endpoint`. This is used during the provider creation to get relevant metadata from the external provider. The endpoint URL has a specific format: it always ends with the `.well-known/openid-configuration` path. (e.g. https://1234-admin.okta.com/.well-known/openid-configuration). Usually, you can find the discovery endpoint in the client details after you create it on the external provider. As an example, creating an *Okta* provider looks like this:

[.device]
image::images/provider-oidc-create.png[Custom Identity Provider Create Form]

After creating the providers, you can see them on the login form. If you want to remove any of the providers, you can disable or delete the provider in the provider settings. This login form shows the previously created identity providers:

[.device]
image::images/provider-login.png[Identity Provider Login Form]

When you click on one of the providers, it redirects you to the external provider's login page where you need to specify your external user's username and password:

[.device]
image::images/okta-login.png[Custom Identity Provider Login]

After a successful authentication, if a user with the same email already exists in Control Center, you can link that user with one or more identities from identity providers, or create a new user based on the identity information from them:

[.device]
image::images/link-user-profile.png[Link User Profile Form]

If you click on the [guibutton]*Review Profile* button, you can edit the identity information before linking it to a user in Control Center:

[.device]
image::images/review-user-profile.png[Review User Profile Form]

After successfully linking a user and an external identity, you need to confirm this linking by logging in with your user:

[.device]
image::images/confirm-user-profile.png[Confirm User Profile Form]

The authentication flow behind these steps is the following:

. The unauthenticated user requests a protected view in an application.
. The application redirects the user to Control Center to authenticate.
. Control Center displays the login page with a list of configured identity providers.
. The user selects one of the identity providers by clicking its button.
. Control Center issues an authentication request to the target identity provider requesting authentication and redirects the user to the identity providerâ€™s login page.
. The user provides credentials or consents to authenticate with the identity provider.
. Upon successful authentication by the identity provider, the user redirects back to Control Center with an authentication response.
. Control Center checks if the response from the identity provider is valid. If it is valid, one of two things happen:
.. If the user already exists, Control Center asks the user to link the accounts (i.e. link the identity returned from the identity provider with the existing user).
.. If the user does not exist, Control Center imports and creates a user.
. When the user authenticates, Control Center permits access to the protected view.


== Login and Logout Controls

To create login and logout links or buttons in your Vaadin application, refer to the guide on <<login-logout#,Creating Login and Logout Controls>>.
