---
title: Loading Theme Resources from npm Packages
page-title: Using advanced npm packages in Vaadin styling
description: Describes how to load theme resources from npm packages.
meta-description: Learn how to integrate and use advanced npm packages for custom styling in Vaadin applications.
order: 50
---


= Loading Styles, Fonts & Images from npm Packages

Stylesheets and other theme-related resources like font and image files can be loaded from npm packages through the theme configuration file `theme.json`.


[#styles-from-npm]
== Loading Stylesheets from npm Packages

You can configure a custom theme to import style sheets from npm packages included as dependencies in the project by defining them in an `importCss` array in [filename]`theme.json`. Below is an example of a [filename]`theme.json` for importing CSS from npm packages:

[source,json]
----
{
  "importCss": [
    "@fortawesome/fontawesome-free/css/regular.css",
    "@fortawesome/fontawesome-free/css/all.min.css"
  ]
}
----

This loads the external style sheets as if they were imported as local style sheets through [filename]`styles.css`.

[NOTE]
The npm packages must be added to the project. The `importCss` configuration doesn't import the npm packages themselves to the project. You need to do that by using the [annotationname]`@NpmPackage` annotation.

Similar to the document root style sheet, style sheets can be forced to the document root for <<{articles}/flow/integrations/embedding#, embedded Flow application or component>> use cases through a corresponding `documentCss` array, which can be useful for font-face declarations in npm packages:

The following example [filename]`theme.json` defines importing of CSS from npm packages into doc root:

.[filename]`theme.json`
[source,json]
----
{
  "documentCss": ["@fortawesome/fontawesome-free/css/all.min.css"]
}
----


[#fonts-and-images-from-npm]
== Loading Fonts and Images from npm Packages

In addition to style sheets, other assets like fonts, images, and icons can also be included from npm packages added to the project, by mapping them from the dependency to local URIs in an assets block in [filename]`theme.json`.

Syntax for mapping assets from npm package to local URIs goes as follows:

.[filename]`theme.json`
[source,json]
----
{
  "assets": {
    "package-name": {
      "asset/glob/pattern": "local/target/path"
    }
  }
}
----

For example, to use SVG icons from `@fortawesome/fontawesome-free` npm package, the SVG files should be mapped to some local path as follows:

.Sample [filename]`theme.json` for mapping assets from npm packages.
[source,json]
----
{
  "assets": {
    "@fortawesome/fontawesome-free": {
      "svgs/regular/**": "fontawesome/icons"
    }
  }
}
----


[NOTE]
The npm packages must be added to the project. The assets configuration doesn't import the npm packages themselves to the project. You need to do that by using the [annotationname]`@NpmPackage` annotation.

The SVG images mapped by the example above are now available on the path `fontawesome/icons` relative to the theme's root folder, so they can be referenced in [filename]`styles.css` as follows:

[source,css]
----
.icon-snowflake {
  background-image: url('./fontawesome/icons/snowflake.svg');
}
----

The assets block supports multiple packages and multiple mappings per package. Below is an example of [filename]`theme.json` mapping multiple packages and assets per package:

[source,json]
----
{
  "assets": {
    "@fortawesome/fontawesome-free": {
      "svgs/regular/**": "fontawesome/icons",
      "webfonts/**": "webfonts"
    },
    "@fortawesome/free-solid-svg-icons": {
      "*.js": "solids"
    }
  }
}
----

[since:com.vaadin:vaadin@V24.9]
[#fonts-and-images-from-npm-with-npmpackage-annotation]
== Loading Fonts and Images from npm Packages Using the NpmPackage annotation

[annotationname]`NpmPackage` has the field `assets` that makes it possible to copy assets from npm packages without the need for a custom theme or the `theme.json` file.

The difference between using the `theme.json` and annotation `assets` is the location.
Theme copies under the custom theme folder, but the annotation copies to the static folder.

The syntax for [annotationname]`NpmPackage` is the same as used for `theme.json`, `"asset/glob/pattern:local/target/path"`.
Multiple assets can be given for a single package annotation.

.Sample asset mapping with `NpmPackage` annotation
[source,java]
----
@NpmPackage(value = "@fortawesome/fontawesome-free", version = "5.15.1",
    assets = {
        "svgs/regular/**:fontawesome/icons"
    })
@Tag("my-component")
public class MyComponent implements Component {
    public MyComponent() {
        add(new Image("VAADIN/static/fontawesome/icons/snowflake.svg",
            "snowflake"));
    }
}
----

[NOTE]
The assets from the [annotationname]`NpmPackage` annotation are copied to the static folder `VAADIN/static` instead of `VAADIN/static/themes/[themeName]/`

In the sample case the `svgs/regular/snowflake.svg` file from the `fortawesome` package is copied to `VAADIN/static/fontawesome/icons/snowflake.svg` and you should reference it with that path in the application code, including CSS stylesheets.
This difference is due to the custom theme call having the `themes/[themeName]/` in the request letting us know it is a theme resource, making it possible to prepend the static part.

== Loading Stylesheets from npm Packages Using the CssImport annotation

To load stylesheets form npm packages it is possible to use [annotation]`CssImport` targeting the stylesheet in `node_modules`.
For example to load `all.min.css` from `@fortawesome/fontawesome-free` an endpoint needs to be annotated as `@CssImport("@fortawesome/fontawesome-free/css/all.min.css")`

.Sample asset mapping with `NpmPackage` annotation
[source,java]
----
@NpmPackage(value = "@fortawesome/fontawesome-free", version = "5.15.1")
@CssImport("@fortawesome/fontawesome-free/css/all.min.css")
public class AppShell implements AppShellConfigurator {
}

@Tag("my-component")
public class MyComponent implements Component {
    public MyComponent() {
        Span userIcon = new Span();
        userIcon.addClassNames("fa-sharp", "fa-solid", "fa-user");
        userIcon.getStyle().set("font-family", "'Font Awesome 5 Free'");
        add(userIcon);
    }
}
----

[discussion-id]`3e46fe3b-00d6-4cf7-908c-342a364210db`
