---
title: Gradle
page-title: Using Gradle In Hilla Applications
description: Building and running a Hilla application using Gradle.
order: 40
---
:lit:
// tag::content[]

= [since:dev.hilla:hilla@v2.1]#Using Gradle in Hilla Applications#

[.introText]
Gradle is a popular build tool for Java, Groovy, Kotlin, and other projects.
It is an alternative to using Maven, and in many ways much more powerful, if that is required.
You can use it to build and publish a Hilla applications as well.

This tutorial describes how to compile, build, and run a Hilla application using the *Hilla Gradle plugin*.

For information about the general usage of Gradle, please refer to the link:https://docs.gradle.org/current/userguide/userguide.html[Gradle User Manual].

.Get to know about Hilla applications
[NOTE]
This tutorial does not intend to go through every detail of a Hilla application, as the focus here is on exploring Gradle related parts for the sake of brevity.
If you are interested to know more about the core concepts of Hilla applications in general, please refer to
ifdef::react[]
<<{articles}/react/start/basic/quick.adoc#, Getting started with Hilla and React>>.
endif::[]
ifdef::lit[]
<<{articles}/lit/start/basic/quick.adoc#, Getting Started with Hilla and Lit>>.
endif::[]

[#_requirements]
== Requirements

This tutorial is intended for developers with a basic understanding of Java, SpringBoot, and Gradle.
Although, this tutorial does not intend to write or analyze any JavaScript,
ifdef::react[]
React,
endif::[]
HTML, and CSS directly, understanding the syntax and basic concepts makes it easier to follow along.

Using Gradle in a Hilla application does not need any extra settings or setup on your environment other than the followings - as in any Hilla application:

// tag::requirements[]
- https://nodejs.org/[Node] 16.14 or later.
- JDK 17 or later, for example, https://adoptium.net/[Eclipse Temurin JDK].
- https://gradle.org/install[Gradle] (Optional)
// end::requirements[]

.Installing Gradle is optional
[NOTE]
If you plan to use Hilla's Gradle-based starter projects, there is no need to install Gradle on your machine.
A Gradle Wrapper script is included in those starter projects.
This script manages the download and execution of Gradle locally for your project.
For more information on using Gradle Wrapper, please refer to the https://docs.gradle.org/current/userguide/gradle_wrapper.html[Official Gradle Documentation].
If you prefer to install Gradle directly, you can find the instructions at https://gradle.org/install

A Hilla starter project that uses Gradle as the build and dependency management tool can be obtained from:

1. https://start.spring.io/[Spring Initializr] which enables you to configure a bare-bones Hilla project by adding the `Hilla` dependency
2. Directly downloading a zipped archive from
ifdef::react[]
https://github.com/vaadin/skeleton-starter-hilla-react-gradle/archive/refs/heads/main.zip[here]
endif::[]
ifdef::lit[]
https://github.com/vaadin/skeleton-starter-hilla-lit-gradle/archive/refs/heads/main.zip[here]
endif::[]
, that contains a minimal hello-world Hilla application


== Structure of a Gradle-Based Hilla Project

A bare-minimum Gradle based Hilla application normally has the following directory layout:

----
[project-root]
frontend/
└── views/
    └── helloworld/
ifdef::react[]
        └── HelloWorldView.tsx
endif::[]
ifdef::lit[]
        └── HelloWorldView.ts
endif::[]
ifdef::react[]
└── App.tsx
└── index.html
└── index.ts
└── routes.tsx
endif::[]
ifdef::lit[]
└── index.html
└── index.ts
└── routes.ts
endif::[]
gradle/                             <1>
└── wrapper
    ├── gradle-wrapper.jar
    └── gradle-wrapper.properties
src/
└── main
    ├── java
    └── resources
└── test/
gradle.build                        <2>
gradle.properties                   <3>
gradlew                             <4>
gradlew.bat                         <5>
package.json
package-lock.json
tsconfig.json
types.d.ts
----
<1> The directory that contains the Gradle wrapper files.
<2> The main Gradle build file.
<3> The file that contains properties that is used in the [filename]#build.gradle# file.
<4> The Gradle wrapper script for Unix based operating systems.
<5> The Gradle wrapper script for Microsoft Windows.

.Details of a Hilla starter might be different from what is depicted above
[NOTE]
As mentioned earlier, this tutorial intends to only explore the structure of a minimal Hilla application.
However, if you download a starter project, for example from official repository mentioned in <<#_requirements, Requirements>>, it also contains other files and folders such as components, layouts, theming and CSS, and much more.
As they have no effect on the execution of Gradle tasks and commands, those details are dropped here.

Items 1, 4, and 5 from the listing above do not need to be expanded and analyzed in this tutorial as they are completely standard Gradle Wrapper scripts and related files with no changes.
In case you are interested in more information about Gradle Wrapper, please refer to the https://docs.gradle.org/current/userguide/gradle_wrapper.html[Official Gradle Documentation].

=== `gradle.properties`

Having a [filename]#gradle.properties# is completely optional both for the Gradle and Hilla.
But, having it can help centralizing some configurations and versions needed in other Gradle related build files such as the [filename]#build.gradle# or [filename]#settings.gradle#.

For instance, you can set the Hilla version you want to use in your project in the [filename]#gradle.properties# file as:

[source,properties,subs="normal"]
----
hillaVersion=2.1.0
----

The usage of this property is covered in the next sections.

=== `build.gradle`

A minimal `gradle.build` file for a Hilla application looks like this:

ifdef::react[]
[source,groovy,subs="normal"]
----
plugins {
    id 'java'
    id 'org.springframework.boot' version '3.0.6'
    id 'io.spring.dependency-management' version '1.1.0'
    id 'dev.hilla' version "$hillaVersion"
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'dev.hilla:hilla-react-spring-boot-starter'
    developmentOnly 'org.springframework.boot:spring-boot-devtools'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

dependencyManagement {
    imports {
        mavenBom "dev.hilla:hilla-bom:$hillaVersion"
    }
}
----
endif::[]

ifdef::lit[]
----
plugins {
    id 'java'
    id 'org.springframework.boot' version '3.0.6'
    id 'io.spring.dependency-management' version '1.1.0'
    id 'dev.hilla' version "$hillaVersion"
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'dev.hilla:hilla-spring-boot-starter'
    developmentOnly 'org.springframework.boot:spring-boot-devtools'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

dependencyManagement {
    imports {
        mavenBom "dev.hilla:hilla-bom:$hillaVersion"
    }
}
----
endif::[]

- Note that the `hillaVersion` property from `gradle.properties` is resolved here automatically.

As many useful components and add-ons for Hilla applications also can be found in https://vaadin.com/directory/[Vaadin Directory], you would see that repository is usually listed in Hilla starter projects:

[source,groovy,subs="normal"]
----
repositories {
    mavenCentral()
    maven {
        setUrl("https://maven.vaadin.com/vaadin-addons")
    }
}
----

.A `pluginManagement` configuration is needed for trying pre-release versions
[NOTE]
In case you want to try out the Hilla pre-release versions, you need to the add the https://maven.vaadin.com/vaadin-prereleases[Vaadin Pre-releases] repository.
Please refer to the <<#_trying_the_pre_release_versions,Trying the pre-release versions>> section to see how it should be configured.

[#_run]
=== Running the Project

As Hilla applications rely on SpringBoot for the backend, you can run it similar to any SpringBoot application.
This means you can run the main method of the class annotated with `@SpringBootApplication` in your preferred IDE, or by executing the `bootRun` task from official SpringBoot Gradle plugin.


[source,terminal,subs="normal"]
----
./gradlew bootRun
----

On Windows:

[source,terminal,subs="normal"]
----
gradlew bootRun
----

This makes the application available at http://localhost:8080.

The Hilla Gradle plugin has some tasks that are being executed after the compilation is done and also during the project run.
In the following section, the available tasks of the Hilla Gradle plugin and their responsibilities are explored.

[#_available_gradle_tasks]
=== Available Tasks in Hilla Gradle Plugin

`hillaConfigure`::
  This task collects the configurations from project and also from the build file and creates a temporary file in the `build` directory called `hilla-engine-configuration.json`.
  This is needed for endpoint generation process that comes next.
  As a standard Gradle task, `hillaConfigure` can be executed independent of the startup process:

[source,terminal,subs="normal"]
----
./gradlew hillaConfigure
----

On Windows:

[source,terminal,subs="normal"]
----
gradlew hillaConfigure
----

`hillaGenerate`::
  This task reads the configuration file created by the configure task, and then parses the classes annotated by `@Endpoint` to generated an `openapi.json` file.
  Then that `openapi.json` file is loaded and passed to a process that generates/updates the TypeScript stubs for calling the backend endpoints.
  As a standard Gradle task, `hillaGenerate` can be executed independent of the startup process:

[source,terminal,subs="normal"]
----
./gradlew hillaGenerate
----

On Windows:

[source,terminal,subs="normal"]
----
gradlew hillaGenerate
----

`hillaInitApp`::
  This task not related to running a Hilla application, and it is not necessary
  If you obtain a bare-bones Hilla project, for instance, from https://start.spring.io/[Spring Initializr], it has no routes, no views, no endpoints, so it might be a little confusing where to start.
  This task scaffolds a sample Hello-World endpoint and view, and also the needed front-end dependencies and TypeScript configurations to boost the development process.
  As a standard Gradle task, `hillaInitApp` can be executed like this:

[source,terminal,subs="normal"]
----
./gradlew hillaInitApp
----

On Windows:

[source,terminal,subs="normal"]
----
gradlew hillaInitApp
----

[#_all_options]
== Plugin Configuration Options

The options provided by the Hilla Gradle Plugin that can be used while configuring a Hilla project are as follows:

`exposedPackagesToParser`::
  By default, the classes annotated by `@Endpoint` in the current gradle module's `src` folder are parsed by Hilla to generate the TypeScript code needed for calling the endpoints.
  But, if you have Hilla Endpoints in a dependency or in another module of a multi-module Gradle project, you need to explicitly expose their package to Hilla.
  This can be achieved like this:

.Option to be added to the [filename]#build.gradle#
[source,groovy,subs="normal"]
----
hilla {
    exposedPackagesToParser = ["com.example.application", "org.another.example.foobar"]
}
----

[#_production]
== Going to Production
When doing a production-ready build, the Vaadin Gradle plugin transpiles, bundles, and optimizes all the client-side dependencies for faster startup and better performance on the browser.

The `pproductionMode` can be enabled in two ways:

In [filename]#build.gradle#:

[source,groovy,subs="normal"]
----
vaadin {
   productionMode = true
}
----

Or at the command line:

[source,terminal]
----
./gradlew -Pvaadin.productionMode=true build
----

In Windows:

[source,terminal]
----
gradlew -Pvaadin.productionMode=true build
----

.Spring Boot-specific configuration
[NOTE]
If you are using Vaadin with Spring Boot, the default packaging for production would normally be the `jar`.
But, if you intend to package a Spring Boot application as a `WAR` to be deployed on a standalone container, such as `tomcat`, there are two additional steps you need to perform:

- Add the `war` plugin to your [filename]#build.gradle# and enable it:

.Plugin to be added to the [filename]#build.gradle# file
[source,groovy,subs="normal"]
----
plugins {
  //... other plugins
  id 'war'
}

war {
    enabled = true
}
----

- Your application class that is annotated with `@SpringBootApplication` should extend [classname]`SpringBootServletInitializer` and override the [methodname]`configure()` method:

.Example of enabling SpringBootServletInitializer
[source,java,subs="normal"]
----
@SpringBootApplication
public class DemoApplication extends SpringBootServletInitializer {
    @Override
    protected SpringApplicationBuilder configure(
	                     SpringApplicationBuilder application) {
        return application.sources(DemoApplication.class);
    }
}
----

- Adding the following dependency:

.Dependency to be added to the [filename]#build.gradle#
[source,groovy,subs="normal"]
----
dependencies {
    providedRuntime 'org.springframework.boot:spring-boot-starter-tomcat'
}
----

And, when running the Gradle command to create the `WAR` archive, call the `war` task instead:

[source,terminal]
----
./gradlew -Pvaadin.productionMode=true war
----

In Windows:

[source,terminal]
----
gradlew -Pvaadin.productionMode=true war
----

[#_trying_the_pre_release_versions]
== Trying the Pre-Release Versions

For trying out the Pre-release versions, the https://maven.vaadin.com/vaadin-prereleases repository should be added and configured in two places:

- In the `repositories` closure of the [filename]#build.gradle# file:

[source,groovy,subs="normal"]
----
repositories {
    mavenCentral()
    maven {
        setUrl("https://maven.vaadin.com/vaadin-prereleases")
    }
}
----

- In the [filename]#build.gradle# file, change the way of applying Hilla Gradle Plugin as follows:

[source,groovy,subs="normal"]
----
plugins {
	id 'java'
	id 'org.springframework.boot' version '3.0.6'
	id 'io.spring.dependency-management' version '1.1.0'
	//id 'dev.hilla' version "$hillaVersion"
}

apply plugin: 'dev.hilla' // this is how it works in case of using pre-releases
----

- Add `buildscript` to the [filename]#settings.gradle# file containing the followings:

.[filename]#settings.gradle# file might not exist in your project
[NOTE]
The [filename]#settings.gradle# file is mostly used within multi-module projects, but it's useful for other configurations.
Thus, if you don't already have it in your project, create a plain text file called `settings.gradle` next to your [filename]#build.gradle# file, which is normally in the project root folder.

[source,groovy,subs="normal"]
----
buildscript {
    repositories {
        gradlePluginPortal()
        maven { url = 'https://maven.vaadin.com/vaadin-prereleases' }
    }
    dependencies {
        classpath "dev.hillahilla-gradle-plugin:$hillaVersion"
    }
}
----

With the above settings you can try out pre-release and SNAPSHOT versions of Hilla and Hilla Gradle Plugin.

.Vaadin recommends using final releases for Production
[NOTE]
To avoid any inconsistencies, do not use any pre-release versions in your production environment, especially snapshots.
Vaadin always recommends using the Final releases of the newer versions.
Visit the https://github.com/vaadin/platform/releases[Vaadin platform release] page for the latest releases of newer versions.

// end::content[]
