---
title: UploadHandler
page-title: How to use UploadHandler in Vaadin Flow
description: Using UploadHandler to receive an incoming data stream.
meta-description: Learn to receive content using ElementRequestHandler in Vaadin Flow.
order: 130
---


= Using UploadHandler to Receive an Incoming Data Stream

To receive an upload from the client, you need to register an [classname]`UploadHandler` that accepts a URL to handle receiving an upload stream.

To create an [classname]`UploadHandler`, you need implement the [methodname]`handleUploadRequest` to handle the upload or use one of the provided UploadHandlers.
The existing [classname]`UploadHandler` implementations are accessible through the static methods in [classname]`UploadHandler`, e.g. `UploadHandler.toTempFile(SerializableBiConsumer<UploadMetadata, File> successHandler)`

[NOTE]
When receiving a multipart upload the [methodname]`handleUploadRequest` will be called separately for each file in the upload.

Then the handler can be registered through the [classname]`Element` API after registering it to the [classname]`StreamResourceRegistration`.

[source,java]
----
List<File> outputFiles = new ArrayList<>(1);
UploadHandler uploadHandler = UploadHandler.toTempFile((uploadMetadata, file) -> outputFiles.add(file));

StreamRegistration streamRegistration = VaadinSession.getCurrent()
        .getResourceRegistry()
        .registerResource(uploadHandler, getElement());

getElement().setAttribute("target", streamRegistration);
----

[discussion-id]`4482D0BF-E742-4FEA-A888-854B758FE576`
