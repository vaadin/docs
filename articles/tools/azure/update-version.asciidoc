---
title: Update Version
description: How to update an application using Azure Kit.
order: 10
---

= Update Application to a New Version

1. Build a new application version:
[source,terminal]
----
docker build -t azure-kit-demo:2.0.0 .
----
Optionally, if you run a local docker registry, add the *localhost:5001* registry address prefix as well and push it to registry. Refer to the image in the configuration files with *the localhost:5001/azure-kit-demo:1.0.0* name:
[source,terminal]
----
# docker build localhost:5001/azure-kit-demo:1.0.0 .
# docker push localhost:5001/azure-kit-demo:1.0.0
----
2. Deploy the new version: and a canary ingress controller for it:
[source,terminal]
----
# kubectl apply -f deployment/app-v2.yaml
----
3. Deploy the canary ingress controller for it:
[source,terminal]
----
# kubectl apply -f deployment/ingress-v2-canary.yaml
----
4. Make the new version as a default:
[source,terminal]
----
# kubectl apply -f deployment/ingress-v2.yaml
----
5. Delete the old version:
[source,terminal]
----
# kubectl delete -f deployment/app-v1.yaml
----
